require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";module.exports=require("./lib/validator")},{"./lib/validator":5}],2:[function(require,module,exports){"use strict";var formats={};formats["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/;formats["date"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/;formats["time"]=/^\d{2}:\d{2}:\d{2}$/;formats["email"]=/^\S+@\S+$/;formats["ip-address"]=formats["ipv4"]=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;formats["ipv6"]=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;formats["uri"]=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/;formats["color"]=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/;formats["hostname"]=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/;formats["alpha"]=/^[a-zA-Z]+$/;formats["alphanumeric"]=/^[a-zA-Z0-9]+$/;formats["style"]=/\s*(.+?):\s*([^;]+);?/g;formats["phone"]=/^\+(?:[0-9] ?){6,14}[0-9]$/;formats["utc-millisec"]=/^[0-9]+(\.?[0-9]+)?$/;module.exports=formats},{}],3:[function(require,module,exports){"use strict";function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj}var types={};types.integer=function(value){return typeof value==="number"&&Math.floor(value)===value};types.string=function(value){return typeof value==="string"};types.array=function(value){return Array.isArray(value)};types.object=function(value){return(typeof value==="undefined"?"undefined":_typeof(value))==="object"&&value&&!Array.isArray(value)};module.exports=types},{}],4:[function(require,module,exports){"use strict";var types=require("./types");var formats=require("./formats");var proto={};proto.init=function init(node,data,name,path,errors){this.node=node;this.data=data;this.name=name;this.path=path;this.errors=errors;this.value=data[name]};proto.addError=function addError(error){var path=this.path.slice(1);path.push(this.name);var pathStr=path.join(".");this.errors[pathStr]=error};proto.isValid=function isValid(){if(!this.isValidRequired()){this.addError("is required");return false}if(typeof this.value==="undefined"){return true}if(!this.isValidType()){this.addError("type must be "+this.node.type);return false}if(!this.isValidFormat()){this.addError("format must be "+this.node.format);return false}return true};proto.isValidRequired=function isValidRequired(){return!(typeof this.value==="undefined"&&this.node.required)};proto.isValidType=function isValidType(){var typeFunc=types[this.node.type];return typeFunc(this.value)};proto.isValidFormat=function isValidFormat(){if(!this.node.format){return true}var formatRegex=formats[this.node.format];return formatRegex.test(this.value)};function validateFactory(node,data,name,path,errors){var validate=Object.create(proto);validate.init(node,data,name,path,errors);return validate}module.exports=validateFactory;module.exports.validate=proto},{"./formats":2,"./types":3}],5:[function(require,module,exports){"use strict";var validate=require("./validate");var proto={};proto.init=function init(){this.errors={};this.path=[]};proto.removeExtraNodes=function removeExtraNodes(node,data){var nodeNames=new Set(Object.keys(node));var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.keys(data)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var name=_step.value;if(!nodeNames.has(name)){delete data[name]}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}};proto.visit=function visit(parentNode,data,opt){data=data||{};opt=opt||{};if(opt.nodeName){this.path.push(opt.nodeName)}this.removeExtraNodes(parentNode,data);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=Object.keys(parentNode)[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var name=_step2.value;var node=parentNode[name];var n=validate(node,data,name,this.path,this.errors);if(!n.isValid()){continue}if(node.type=="object"){this.visit(node.properties,data[name],{nodeName:name})}if(node.type=="array"){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=data[name].keys()[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var index=_step3.value;var nodeObj={};var itemObj={};nodeObj[index]=node.items;itemObj[index]=data[name][index];this.visit(nodeObj,itemObj,{nodeName:name})}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}if(opt.nodeName){this.path.pop()}};function validatorFactory(schema,data){var validator=Object.create(proto);validator.init();validator.visit({root:schema},{root:data});return{isValid:Object.keys(validator.errors).length===0,errors:validator.errors}}module.exports=validatorFactory;module.exports.validator=proto},{"./validate":4}],typeshave:[function(require,module,exports){(function(){var clone,tjv;tjv=require("tiny-json-validator-es5");clone=function(o){return JSON.parse(JSON.stringify(o))};module.exports=function(){var typeshave;typeshave=this;this.verbose=0;this.onError=function(_this){return function(err){if(_this.verbose>0){console.dir({"typeshave exception":err})}throw"TYPESAFE_FAIL"}}(this);this.typesafe=function(schema,method){var validated;validated=function(){var args,dump,i,k,v;if(schema.type==null){args={};i=0;for(k in schema){v=schema[k];args[k]=arguments[String(i++)]}v=tjv({type:"object",required:Object.keys(schema),properties:schema},args)}else{v=tjv(schema,arguments[0])}if(!v.isValid){dump={data:arguments,errors:v.errors,schema:schema};typeshave.onError(dump)}return method.apply(this,arguments)};return validated};return this}.apply({})}).call(this)},{"tiny-json-validator-es5":1}]},{},[]);