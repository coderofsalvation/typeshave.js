var clone=function(a){return JSON.parse(JSON.stringify(a))},obj=function(){var a=this;return this.tv4=require("tv4-node").tv4,this.validate=function(b,c){var d=b;if(b&&null!=b.callee&&(d=Array.prototype.slice.call(b)),null==c.type){var e={},f=1;for(var g in c){c[g];e[g]=b[f++],d=e}c={type:"object",required:Object.keys(c),properties:c}}return a.tv4.validate(d,c)?!0:void a.error(a.tv4.errors)},this.error=function(a){return console.error(a),new Error(a)},this.typesafe=function(b,c){var d=function(){var d=arguments,e={},f=clone(b);if(null==f.type){var g=0;for(var h in b){var i=b[h];e[h]=d[g++]}f={type:"object",required:Object.keys(b),properties:b}}else e=arguments[0];var i=a.validate(e,f);if(!i){var j={data:e,errors:a.tv4.error,schema:f};throw j}return c.apply(this,arguments)};return d},this}.apply({});"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=obj:(window.typeshave=obj,console.error||(console.error=console.log));